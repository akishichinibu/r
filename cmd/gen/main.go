package main

import (
	"github.com/akishichinibu/r/gen"
	. "github.com/dave/jennifer/jen"
)

const PREAMBLE = `
Code generated by github.com/akishichinibu/r. DO NOT EDIT.
`

func genError() error {
	f := NewFile("r")
	f.Comment(PREAMBLE)
	for i := 2; i <= 5; i++ {
		gen.GenerateError(f, i)
	}
	return f.Save("error.gen.go")
}

func genResult() error {
	f := NewFile("r")
	f.Comment(PREAMBLE)
	for i := 2; i <= 5; i++ {
		gen.GenerateResult(f, i)
	}
	return f.Save("result.gen.go")
}

func main() {
	if err := genError(); err != nil {
		panic(err)
	}
	if err := genResult(); err != nil {
		panic(err)
	}
}
